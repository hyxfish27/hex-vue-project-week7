{"version":3,"file":"js/290.a87b5f1f.js","mappings":"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","sources":["webpack://hex-vue-project-week7/./src/components/Loading.vue","webpack://hex-vue-project-week7/./src/components/Loading.vue?1ccf","webpack://hex-vue-project-week7/./src/views/UserCheckout.vue","webpack://hex-vue-project-week7/./src/views/UserCheckout.vue?0c02"],"sourcesContent":["<template>\r\n  <div class=\"loader\" id=\"loader\" v-if=\"!isReady\">\r\n    <img src=\"@/assets/loader.svg\" alt=\"loading...\" />\r\n  </div>\r\n</template>\r\n\r\n<style>\r\n.loader {\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background: rgba(255, 255, 255, 0.6);\r\n  z-index: 1060;\r\n}\r\n\r\n.loader img {\r\n  width: 100px;\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n</style>\r\n\r\n<script>\r\nexport default {\r\n  props: ['is-ready']\r\n}\r\n</script>\r\n","import { render } from \"./Loading.vue?vue&type=template&id=03527979\"\nimport script from \"./Loading.vue?vue&type=script&lang=js\"\nexport * from \"./Loading.vue?vue&type=script&lang=js\"\n\nimport \"./Loading.vue?vue&type=style&index=0&id=03527979&lang=css\"\n\nimport exportComponent from \"D:\\\\VICKY HUANG\\\\Projects\\\\hex-vue-project-week7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <Loading :is-ready=\"isReady\"></Loading>\r\n  <div class=\"my-5 row justify-content-center\">\r\n    <form class=\"col-md-6\" @submit.prevent=\"payOrder\">\r\n      <table class=\"table align-middle\">\r\n        <thead>\r\n          <th>品名</th>\r\n          <th>數量</th>\r\n          <th>單價</th>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"order in order.products\" :key=\"order.id\">\r\n            <td>{{ order.product.title }}</td>\r\n            <td>{{ order.qty }}/{{ order.product.unit }}</td>\r\n            <td class=\"text-end\">{{ $filters.currency(order.final_total) }}</td>\r\n          </tr>\r\n        </tbody>\r\n        <tfoot>\r\n          <tr>\r\n            <td colspan=\"2\" class=\"text-end\">總計</td>\r\n            <td class=\"text-end\">{{ $filters.currency(order.total) }}</td>\r\n          </tr>\r\n        </tfoot>\r\n      </table>\r\n\r\n      <table class=\"table\">\r\n        <tbody>\r\n          <tr>\r\n            <th width=\"100\">Email</th>\r\n            <td>{{ order.user.email }}</td>\r\n          </tr>\r\n          <tr>\r\n            <th>姓名</th>\r\n            <td>{{ order.user.name }}</td>\r\n          </tr>\r\n          <tr>\r\n            <th>收件人電話</th>\r\n            <td>{{ order.user.tel }}</td>\r\n          </tr>\r\n          <tr>\r\n            <th>收件人地址</th>\r\n            <td>{{ order.user.address }}</td>\r\n          </tr>\r\n          <tr>\r\n            <th>付款狀態</th>\r\n            <td>\r\n              <span v-if=\"!order.is_paid\">尚未付款</span>\r\n              <span v-else class=\"text-success\">付款完成</span>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <div class=\"text-end\" v-if=\"order.is_paid === false\">\r\n        <button class=\"btn btn-danger\">確認付款去</button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Loading from '@/components/Loading.vue'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      order: {\r\n        user: {}\r\n      },\r\n      orderId: '',\r\n      isReady: false\r\n    }\r\n  },\r\n  components: {\r\n    Loading\r\n  },\r\n  methods: {\r\n    getOrder () {\r\n      this.isReady = false\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order/${this.orderId}`\r\n      this.$http\r\n        .get(url)\r\n        .then(res => {\r\n          this.order = res.data.order\r\n          this.isReady = true\r\n        })\r\n        .catch(err => {\r\n          this.isReady = true\r\n          this.$httpMessageState(err.res, '錯誤訊息')\r\n        })\r\n    },\r\n    payOrder () {\r\n      this.isReady = false\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`\r\n      this.$http\r\n        .post(url)\r\n        .then(() => {\r\n          this.isReady = true\r\n          this.getOrder()\r\n        })\r\n        .catch(err => {\r\n          this.isReady = true\r\n          this.$httpMessageState(err.response, '錯誤訊息')\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.orderId = this.$route.params.orderId\r\n    this.getOrder()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserCheckout.vue?vue&type=template&id=2746e4b6\"\nimport script from \"./UserCheckout.vue?vue&type=script&lang=js\"\nexport * from \"./UserCheckout.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\VICKY HUANG\\\\Projects\\\\hex-vue-project-week7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","id","_createElementVNode","src","_imports_0","alt","_hoisted_2","_ctx","_createElementBlock","_hoisted_3","props","__exports__","render","colspan","width","_hoisted_16","_createVNode","_component_Loading","$data","onSubmit","$options","_Fragment","_renderList","products","order","key","_toDisplayString","product","title","qty","unit","currency","final_total","_hoisted_5","total","_hoisted_8","user","email","_hoisted_9","name","_hoisted_10","tel","_hoisted_11","address","_hoisted_12","is_paid","_hoisted_13","_hoisted_17","data","orderId","isReady","components","Loading","methods","getOrder","this","url","$http","get","then","res","catch","err","$httpMessageState","payOrder","post","response","mounted","$route","params"],"sourceRoot":""}