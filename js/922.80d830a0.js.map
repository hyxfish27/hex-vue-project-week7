{"version":3,"file":"js/922.80d830a0.js","mappings":"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","sources":["webpack://hex-vue-project-week7/./src/views/UserProductsView.vue","webpack://hex-vue-project-week7/./src/components/UserProduct.vue","webpack://hex-vue-project-week7/./src/components/UserProduct.vue?f27e","webpack://hex-vue-project-week7/./src/views/UserProductsView.vue?9eef"],"sourcesContent":["<template>\r\n  <Loading :is-ready=\"isReady\"></Loading>\r\n  <div class=\"container\">\r\n    <UserProduct\r\n      :id=\"productId\"\r\n      ref=\"userProductModal\"\r\n      @add-to-cart=\"addToCart\"\r\n    ></UserProduct>\r\n    <h3 class=\"h3 text-center mt-4\">產品列表</h3>\r\n    <table class=\"table align-middle\">\r\n      <thead>\r\n        <tr>\r\n          <th>圖片</th>\r\n          <th>商品名稱</th>\r\n          <th>價格</th>\r\n          <th></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"product in products\" :key=\"product.id\">\r\n          <td style=\"width: 200px\">\r\n            <div\r\n              :style=\"{ backgroundImage: `url(${product.imageUrl})` }\"\r\n              style=\"\r\n                  height: 100px;\r\n                  background-size: cover;\r\n                  background-position: center\"\r\n            ></div>\r\n          </td>\r\n          <td>\r\n            {{ product.title }}\r\n          </td>\r\n          <td>\r\n            <div class=\"h5\" v-if=\"product.price === product.origin_price\">\r\n              {{ product.price }} 元\r\n            </div>\r\n            <div v-else>\r\n              <del class=\"h6\">原價 {{ product.origin_price }} 元</del>\r\n              <div class=\"h5\">現在只要 {{ product.price }} 元</div>\r\n            </div>\r\n          </td>\r\n          <td>\r\n            <div class=\"btn-group btn-group-sm\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-outline-secondary\"\r\n                @click=\"openProductModal(product.id)\"\r\n                :disabled=\"isLoading === product.id\"\r\n              >\r\n                <!-- <i class=\"fas fa-spinner fa-pulse\"></i> -->\r\n                查看更多\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-outline-danger\"\r\n                @click=\"addToCart(product.id)\"\r\n                :disabled=\"isLoading === product.id\"\r\n              >\r\n                <i\r\n                  class=\"fas fa-spinner fa-pulse\"\r\n                  v-show=\"isLoading === product.id\"\r\n                ></i>\r\n                加到購物車\r\n              </button>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <!-- Pagination -->\r\n    <Pagination :pages=\"pagination\" @emit-pages=\"getProducts\"></Pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport UserProduct from '@/components/UserProduct.vue'\r\nimport Pagination from '@/components/Pagination.vue'\r\nimport Loading from '@/components/Loading.vue'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: [],\r\n      pagination: {},\r\n      productId: '',\r\n      isLoading: '',\r\n      isReady: false\r\n    }\r\n  },\r\n  components: {\r\n    UserProduct,\r\n    Pagination,\r\n    Loading\r\n  },\r\n  inject: ['emitter'],\r\n  methods: {\r\n    getProducts (page = 1) {\r\n      this.isReady = false\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products?page=${page}`\r\n      this.$http\r\n        .get(url)\r\n        .then(res => {\r\n          this.products = res.data.products\r\n          this.pagination = res.data.pagination\r\n          this.isReady = true\r\n        })\r\n        .catch(err => {\r\n          this.$httpMessageState(err.response, '錯誤訊息')\r\n        })\r\n    },\r\n    addToCart (id, qty = 1) {\r\n      this.isReady = false\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`\r\n      this.isLoading = id\r\n      const cart = {\r\n        product_id: id,\r\n        qty\r\n      }\r\n      this.$http\r\n        .post(url, { data: cart })\r\n        .then(res => {\r\n          this.$httpMessageState(res, '加入購物車')\r\n          // alert(res.data.message)\r\n          this.isLoading = ''\r\n          this.isReady = true\r\n        })\r\n        .catch(err => {\r\n          this.$httpMessageState(err.response, '加入購物車')\r\n          this.isReady = true\r\n          // alert(err.data.message)\r\n        })\r\n    },\r\n    openProductModal (id) {\r\n      // 外層資料 -> 內層\r\n      this.productId = id\r\n      // 調用 ProductModal 元件底下的 openModal() 方法\r\n      this.$refs.userProductModal.openModal()\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getProducts()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div class=\"container\">\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"productModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\"\r\n      ref=\"modal\"\r\n    >\r\n      <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n        <div class=\"modal-content border-0\">\r\n          <div class=\"modal-header bg-dark text-white\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n              <span>{{ product.title }}</span>\r\n            </h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn-close\"\r\n              data-bs-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            ></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-sm-6\">\r\n                <img\r\n                  class=\"img-fluid\"\r\n                  :src=\"product.imageUrl\"\r\n                  :alt=\"product.title\"\r\n                />\r\n              </div>\r\n              <div class=\"col-sm-6\">\r\n                <span class=\"badge bg-primary rounded-pill\">{{\r\n                  product.category\r\n                }}</span>\r\n                <p>商品描述：{{ product.description }}</p>\r\n                <p>商品內容：{{ product.content }}</p>\r\n                <div class=\"h5\" v-if=\"product.origin_price === product.price\">\r\n                  {{ product.price }} 元\r\n                </div>\r\n                <div v-else>\r\n                  <del class=\"h6\">原價 {{ product.origin_price }} 元</del>\r\n                  <div class=\"h5\">現在只要 {{ product.price }} 元</div>\r\n                </div>\r\n                <div>\r\n                  <div class=\"input-group\">\r\n                    <select\r\n                      id=\"itemNum\"\r\n                      class=\"form-select\"\r\n                      v-model=\"qty\"\r\n                      min=\"1\"\r\n                    >\r\n                      <option :value=\"num\" v-for=\"num in 20\" :key=\"`${num}`\"\r\n                        >{{ num }}\r\n                      </option>\r\n                    </select>\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"btn btn-primary\"\r\n                      @click=\"addToCart\"\r\n                    >\r\n                      加入購物車\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <!-- col-sm-6 end -->\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal'\r\n\r\nexport default {\r\n  props: ['id'],\r\n  data () {\r\n    return {\r\n      productModal: '',\r\n      product: {},\r\n      qty: 1\r\n    }\r\n  },\r\n  watch: {\r\n    id () {\r\n      this.getProduct()\r\n    }\r\n  },\r\n  methods: {\r\n    getProduct () {\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/product/${this.id}`\r\n      this.$http\r\n        .get(url)\r\n        .then(res => {\r\n          // console.log(res)\r\n          this.product = res.data.product\r\n        })\r\n        .catch(err => {\r\n          alert(err.data.message)\r\n        })\r\n    },\r\n    addToCart () {\r\n      this.$emit('add-to-cart', this.product.id, this.qty)\r\n      this.closeModal()\r\n    },\r\n    openModal () {\r\n      this.productModal.show()\r\n    },\r\n    closeModal () {\r\n      this.productModal.hide()\r\n    }\r\n  },\r\n  mounted () {\r\n    this.productModal = new Modal(this.$refs.modal)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserProduct.vue?vue&type=template&id=1dee09f6\"\nimport script from \"./UserProduct.vue?vue&type=script&lang=js\"\nexport * from \"./UserProduct.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\VICKY HUANG\\\\Projects\\\\hex-vue-project-week7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./UserProductsView.vue?vue&type=template&id=545954dd\"\nimport script from \"./UserProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./UserProductsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\VICKY HUANG\\\\Projects\\\\hex-vue-project-week7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","_createVNode","_component_Loading","$data","_component_UserProduct","id","ref","onAddToCart","$options","_hoisted_2","_hoisted_4","_createElementBlock","_Fragment","_renderList","product","key","backgroundImage","imageUrl","_toDisplayString","title","price","origin_price","_hoisted_7","type","onClick","disabled","_hoisted_11","_component_Pagination","pages","onEmitPages","tabindex","role","src","alt","category","description","content","_hoisted_15","$event","min","num","value","_hoisted_19","props","data","productModal","qty","watch","this","getProduct","methods","url","$http","get","then","res","catch","err","alert","message","addToCart","$emit","closeModal","openModal","show","hide","mounted","Modal","$refs","modal","__exports__","products","pagination","productId","isLoading","isReady","components","UserProduct","Pagination","Loading","inject","getProducts","page","$httpMessageState","response","cart","product_id","post","openProductModal","userProductModal","render"],"sourceRoot":""}