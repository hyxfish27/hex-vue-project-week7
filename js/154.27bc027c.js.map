{"version":3,"file":"js/154.27bc027c.js","mappings":"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","sources":["webpack://hex-vue-project-week7/./src/views/UserCart.vue","webpack://hex-vue-project-week7/./src/views/UserCart.vue?698a"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <h3 class=\"h3 text-center mt-4\">購物車</h3>\r\n    <div class=\"text-end\">\r\n      <button\r\n        class=\"btn btn-outline-danger\"\r\n        :disabled=\"isLoading !== ''\"\r\n        type=\"button\"\r\n        @click=\"clearAllCart\"\r\n      >\r\n        清空購物車\r\n      </button>\r\n    </div>\r\n    <table class=\"table align-middle\">\r\n      <thead>\r\n        <tr>\r\n          <th></th>\r\n          <th>品名</th>\r\n          <th style=\"width: 150px\">數量/單位</th>\r\n          <th>單價</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <template v-if=\"cartData.carts\">\r\n          <tr v-for=\"cart in cartData.carts\" :key=\"cart.id\">\r\n            <td>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-outline-danger btn-sm\"\r\n                :disabled=\"isLoading === cart.id\"\r\n                @click=\"removeCartItem(cart.id)\"\r\n              >\r\n                <i\r\n                  class=\"fas fa-spinner fa-pulse\"\r\n                  v-show=\"isLoading === cart.id\"\r\n                ></i>\r\n                x\r\n              </button>\r\n            </td>\r\n            <td>\r\n              {{ cart.product.title }}\r\n              <div class=\"text-success\" v-if=\"cart.final_total !== cart.total\">\r\n                已套用優惠券\r\n              </div>\r\n            </td>\r\n            <td>\r\n              <div class=\"input-group input-group-sm\">\r\n                <div class=\"input-group mb-3\">\r\n                  <!-- <input min=\"1\" type=\"number\" class=\"form-control\" :value=\"cart.qty\"> -->\r\n                  <!-- 不要相信使用者->用選的就不會出錯 -->\r\n                  <select\r\n                    id=\"cartNum\"\r\n                    class=\"form-select\"\r\n                    v-model=\"cart.qty\"\r\n                    :disabled=\"isLoading === cart.id\"\r\n                    @change=\"updateCartItem(cart)\"\r\n                  >\r\n                    <option\r\n                      :value=\"num\"\r\n                      v-for=\"num in 20\"\r\n                      :key=\"`${num}${cart.id}`\"\r\n                      >{{ num }}\r\n                    </option>\r\n                  </select>\r\n                  <span class=\"input-group-text\" id=\"basic-addon2\">{{\r\n                    cart.product.unit\r\n                  }}</span>\r\n                </div>\r\n              </div>\r\n            </td>\r\n            <td class=\"text-end\">\r\n              <div class=\"row justify-content-center\">\r\n                <div class=\"col-md-6\" v-if=\"cart.final_total !== cart.total\">\r\n                  <del>原價 : {{ $filters.currency(cart.total) }}</del>\r\n                </div>\r\n                <div class=\"col-md-6 text-center\">\r\n                  <small\r\n                    class=\"text-success\"\r\n                    v-if=\"cart.final_total !== cart.total\"\r\n                    >折扣價：</small\r\n                  >\r\n                  {{ $filters.currency(cart.final_total) }}\r\n                </div>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </template>\r\n      </tbody>\r\n      <tfoot>\r\n        <tr>\r\n          <td colspan=\"3\" class=\"text-end\">總計</td>\r\n          <td class=\"text-end\">{{ $filters.currency(cartData.total) }}</td>\r\n        </tr>\r\n        <tr v-if=\"cartData.final_total !== cartData.total\">\r\n          <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\r\n          <td class=\"text-end text-success\">\r\n            {{ $filters.currency(cartData.final_total) }}\r\n          </td>\r\n        </tr>\r\n      </tfoot>\r\n    </table>\r\n    <div class=\"row justify-content-center\">\r\n      <p class=\"h5 text-danger col-md-12 col-sm-6\">大大大優惠!!</p>\r\n      <p class=\"h6 col-md-12 col-sm-6 mb-5\">\r\n        輸入折扣碼 <b class=\"text-success\">big777</b> 即可享有77折優惠\r\n      </p>\r\n    </div>\r\n\r\n    <div class=\"row input-group\">\r\n      <label for=\"codeInput\" class=\"col-md-3 form-label text-center\"\r\n        >折扣碼</label\r\n      >\r\n      <input\r\n        type=\"text\"\r\n        class=\"col-md-3 mb-3 form-control\"\r\n        id=\"codeInput\"\r\n        v-model=\"code\"\r\n      />\r\n      <button\r\n        type=\"button\"\r\n        class=\"col-md-3 mb-3 btn btn-outline-success\"\r\n        @click=\"useCoupon\"\r\n      >\r\n        使用折扣碼\r\n      </button>\r\n    </div>\r\n\r\n    <div class=\"my-5 row justify-content-center\">\r\n      <Form\r\n        ref=\"form\"\r\n        class=\"col-md-6\"\r\n        v-slot=\"{ errors }\"\r\n        @submit=\"createOrder\"\r\n      >\r\n        <div class=\"mb-3\">\r\n          <label for=\"email\" class=\"form-label\">Email</label>\r\n          <Field\r\n            id=\"email\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            class=\"form-control\"\r\n            :class=\"{ 'is-invalid': errors['email'] }\"\r\n            placeholder=\"請輸入 Email\"\r\n            rules=\"email|required\"\r\n            v-model=\"form.user.email\"\r\n          ></Field>\r\n          <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <label for=\"name\" class=\"form-label\">收件人姓名</label>\r\n          <Field\r\n            id=\"name\"\r\n            name=\"姓名\"\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            :class=\"{ 'is-invalid': errors['姓名'] }\"\r\n            placeholder=\"請輸入姓名\"\r\n            rules=\"required\"\r\n            v-model=\"form.user.name\"\r\n          ></Field>\r\n          <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <label for=\"tel\" class=\"form-label\">收件人電話</label>\r\n          <Field\r\n            id=\"tel\"\r\n            name=\"電話\"\r\n            type=\"tel\"\r\n            class=\"form-control\"\r\n            :class=\"{ 'is-invalid': errors['電話'] }\"\r\n            placeholder=\"請輸入電話\"\r\n            rules=\"required|min:8|max:10\"\r\n            v-model=\"form.user.tel\"\r\n          ></Field>\r\n          <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <label for=\"address\" class=\"form-label\">收件人地址</label>\r\n          <Field\r\n            id=\"address\"\r\n            name=\"地址\"\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            :class=\"{ 'is-invalid': errors['地址'] }\"\r\n            placeholder=\"請輸入地址\"\r\n            rules=\"required\"\r\n            v-model=\"form.user.address\"\r\n          ></Field>\r\n          <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <label for=\"message\" class=\"form-label\">留言</label>\r\n          <textarea\r\n            name=\"\"\r\n            id=\"message\"\r\n            class=\"form-control\"\r\n            cols=\"30\"\r\n            rows=\"10\"\r\n            v-model=\"form.message\"\r\n          ></textarea>\r\n        </div>\r\n        <div class=\"text-end\">\r\n          <button class=\"btn btn-danger\">送出訂單</button>\r\n        </div>\r\n      </Form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      code: '',\r\n      isLoading: '',\r\n      isReady: '',\r\n      qty: 1,\r\n      cartData: [],\r\n      form: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getCart () {\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`\r\n      this.$http\r\n        .get(url)\r\n        .then(res => {\r\n          this.cartData = res.data.data\r\n        })\r\n        .catch(err => {\r\n          alert(err.data.message)\r\n        })\r\n    },\r\n    updateCartItem (cart) {\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${cart.id}`\r\n      const update = {\r\n        product_id: cart.id,\r\n        qty: cart.qty\r\n      }\r\n      this.$http\r\n        .put(url, { data: update })\r\n        .then(res => {\r\n          alert(res.data.message)\r\n          this.getCart()\r\n        })\r\n        .catch(err => {\r\n          alert(err.data.message)\r\n        })\r\n    },\r\n    removeCartItem (cartID) {\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${cartID}`\r\n      this.isLoading = cartID\r\n      this.$http\r\n        .delete(url)\r\n        .then(res => {\r\n          // console.log(res)\r\n          alert(res.data.message)\r\n          this.getCart()\r\n          this.isLoading = ''\r\n        })\r\n        .catch(err => {\r\n          alert(err.data.message)\r\n        })\r\n    },\r\n    clearAllCart () {\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/carts`\r\n      this.isLoading = 'clear'\r\n      this.$http\r\n        .delete(url)\r\n        .then(res => {\r\n          alert(res.data.message)\r\n          this.getCart()\r\n          this.isLoading = ''\r\n        })\r\n        .catch(err => {\r\n          alert(err.data.message)\r\n        })\r\n    },\r\n    useCoupon () {\r\n      const code = this.code\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/coupon`\r\n      this.$http\r\n        .post(url, { data: { code } })\r\n        .then(res => {\r\n          alert(res.data.message)\r\n          this.getCart()\r\n        })\r\n        .catch(err => {\r\n          alert(err.data.message)\r\n        })\r\n    },\r\n    createOrder () {\r\n      this.isLoading = true\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order`\r\n      const order = this.form\r\n      this.$http\r\n        .post(url, { data: order })\r\n        .then(response => {\r\n          // this.$httpMessageState(response, '建立訂單')\r\n          this.$router.push(`/user/order/${response.data.orderId}`)\r\n          this.$refs.form.resetForm()\r\n          this.isLoading = false\r\n        })\r\n        .catch(error => {\r\n          this.isLoading = false\r\n          this.$httpMessageState(error.response, '建立訂單')\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getCart()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserCart.vue?vue&type=template&id=99fd2c1a\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\VICKY HUANG\\\\Projects\\\\hex-vue-project-week7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","id","colspan","for","_createElementBlock","_hoisted_2","disabled","$data","type","onClick","$options","_hoisted_4","_hoisted_6","carts","_Fragment","key","_renderList","cart","product","title","final_total","total","qty","$event","onChange","num","value","_hoisted_14","_toDisplayString","unit","_ctx","currency","_hoisted_21","_hoisted_23","_hoisted_24","_hoisted_26","_hoisted_28","_createVNode","_component_Form","ref","onSubmit","errors","_hoisted_31","_component_Field","name","placeholder","rules","user","email","_component_ErrorMessage","_hoisted_33","_hoisted_35","tel","_hoisted_37","address","_hoisted_39","cols","rows","message","_hoisted_40","data","code","isLoading","isReady","cartData","form","methods","getCart","url","this","$http","get","then","res","catch","err","alert","updateCartItem","update","product_id","put","removeCartItem","cartID","delete","clearAllCart","useCoupon","post","createOrder","order","response","$router","push","orderId","$refs","resetForm","error","$httpMessageState","mounted","__exports__","render"],"sourceRoot":""}